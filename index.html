<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial - Eventos</title>
    <link rel="stylesheet" href="styles.css"> <!-- Certifique-se de que o caminho para o CSS está correto -->
</head>

<body>
    <!-- Cabeçalho -->
    <header class="cabecalho">
        <div class="cabecalho-titulo-container">
            <h1 class="cabecalho-titulo">Nome do Site</h1>
        </div>
        <div class="cabecalho-botoes">
            <button class="cabecalho-botao-organizador">Organizador</button>
            <button class="cabecalho-botao-entrar" onclick="location.href='login.html'">Entrar</button>
        </div>
    </header>

    <!-- Menu -->
    <div class="conteudo-menu">
        <div>Menu 1</div>
        <div>Menu 2</div>
        <div>Menu 3</div>
    </div>

    <!-- Banner -->
    <div class="conteudo-banners">
        <a href="/paginaevento.html">
            <img src="imagens/periclão.png" alt="Banner Pagode do Pericão">
        </a>
    </div>

    <!-- Busca -->
    <div class="pesquisa">
        <div class="pesquisa-busca-evento">
            <input type="text" placeholder="Buscar evento">
        </div>
        <div class="pesquisa-busca-local">
            <input type="text" placeholder="Buscar por local">
        </div>
        <div class="pesquisa-busca-data">
            <input type="text" placeholder="Buscar por data">
        </div>
    </div>

    <!-- Lista de Eventos -->
    <div class="conteudo-secundario-destaque">
        Eventos
    </div>

    <div class="lista-eventos" id="eventos-lista">
        <!-- Os eventos serão carregados aqui via JavaScript -->
    </div>

    <script>
        // Função para carregar os eventos e exibi-los na tela inicial
        async function carregarEventos() {
            try {
                const response = await fetch('/api/buscaeventos');
                const eventos = await response.json();

                const listaEventos = document.getElementById('eventos-lista');
                listaEventos.innerHTML = ''; // Limpa a lista antes de adicionar novos itens

                eventos.forEach(evento => {
                    const eventoLink = document.createElement('a');
                    eventoLink.href = `/detalhes/${evento.nome}`; // Link para a página do evento
                    eventoLink.textContent = evento.nome; // Nome do evento

                    listaEventos.appendChild(eventoLink); // Adiciona o evento à lista
                });
            } catch (err) {
                console.error('Erro ao carregar eventos:', err);
            }
        }

        // Chama a função para carregar os eventos quando a página é carregada
        window.onload = carregarEventos;
    </script>
</body>

</html>

